{% extends 'layout.html' %}
{% block content %}
 <h1>View CSV File</h1>
    <table id="data" class="table table-striped">
      <thead>
        <tr>
          {% for header in headers %}
            <th>{{ header }}</th>
          {% endfor %}
          <th>Edit</th>
        </tr>
      </thead>
      <tbody>
        {% for row in df %}
          <tr>
            {% for col in row.values() %}
              <td>{{ col }}</td>
            {% endfor %}
            <td><a href="{{ url_for('edit_data', row=row['index']) }}">Edit</a></td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
{% endblock %}

{% block scripts %}
  <script>
  //Using DataTable to provide searchable and orderable columns when viewing data.
    $(document).ready(function () {
      $('#data').DataTable({
        columns: [
          {searchable: false},
          null,
          null,
          null,
          {orderable: false, searchable: false},
          {orderable: false, searchable: false},
          {orderable: false, searchable: false},
          {orderable: false, searchable: false},
          {orderable: false, searchable: false},
          {orderable: false, searchable: false},
          {orderable: false, searchable: false},
          {orderable: false, searchable: false}],
      });
    });
  </script>
{% endblock %}